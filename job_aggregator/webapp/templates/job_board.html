{% extends "base.html" %}
{% block title %}job board{% endblock %}

{% block content %}

<style>
    body {
        font-family: Arial, sans-serif;
    }

    pre {
        white-space: pre-line;
        font-family: Arial, sans-serif;
        text-align: justify;
    }

    .break-word {
        overflow-wrap: break-word;
        word-wrap: break-word;
        hyphens: auto;
    }
</style>

<div class="uk-container">
    <div class="uk-margin uk-text-center">
        <form class="uk-search uk-search-default" method="get">
            {{ form.research }}
            <button class="uk-button uk-button-default" type="submit">Search</button>
        </form>
    </div>

    
    <div class="uk-child-width-1-2@s uk-grid-match" uk-grid>
        {% for job in jobs %}
        <div>
            <div class="uk-card uk-card-default uk-card-body uk-border-rounded">
                <h3 class="uk-card-title">Intitulé: {{ job.Intitulé }}</h3>
                <p>Entreprise: {{ job.Entreprise.nom }}</p>
                <p>Lieu de travail: {{ job.Lieu_de_travail.libelle }}</p>
                <p>Type de contrat: {{ job.Type_de_contrat }}</p>
                <p>Origine de l'offre: <a href="{{ job.Origine_offre.urlOrigine }}" class="break-word">Offre France Travail</a></p>
                {% for partenaire in job.Origine_offre.partenaires %}
                    <p>Partenaire: <a href="{{ partenaire.url }}" class="break-word">{{ partenaire.nom }}</a></p>
                {% endfor %}
                <button class="uk-button uk-button-default" type="button" uk-toggle="target: #modal-{{ forloop.counter }}">Voir plus</button>

                <!-- Modal -->
                <div id="modal-{{ forloop.counter }}" uk-modal>
                    <div class="uk-modal-dialog uk-modal-body uk-text-break">
                        <h2 class="uk-modal-title">Intitulé: {{ job.Intitulé }}</h2>
                        <p>Entreprise: {{ job.Entreprise.nom }}</p>
                        <p>Lieu de travail: {{ job.Lieu_de_travail.libelle }}</p>
                        <p>Type de contrat: {{ job.Type_de_contrat }}</p>
                        <p>Origine de l'offre: <a href="{{ job.Origine_offre.urlOrigine }}" class="break-word">Offre France Travail</a></p>
                        {% for partenaire in job.Origine_offre.partenaires %}
                            <p>Partenaire: <a href="{{ partenaire.url }}" class="break-word">{{ partenaire.nom }}</a></p>
                        {% endfor %}
                        <p>Description: {{ job.Description }}</p>
                        <button class="uk-modal-close" type="button">Fermer</button>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

{% endblock %}